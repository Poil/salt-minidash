{% extends 'base.html.j2' %}
{% block content %}
	<h1>Minions</h1>
	<div class="row">
		<div class="col-sm-12 col-md-12 col-lg-12 mx-auto">
			<table class="table table-striped table-bordered" style="width:100%">
				<thead>
					<tr>
						<th>Minion</th>
						<th>Status</th>
						<th>OS</th>
						<th>OS Release</th>
						<th>Kernel</th>
						<th>Python Version</th>
				</thead>
				<tbody>
					{% for minion, val in my_minions.items() %}
						<tr>
                            <td><a href="/jobs/{{ minion }}">{{ minion }}</a></td>
							<td>{{ val['state'] }}</td>
							<td>{{ val['grains'].get('osfullname') }}</td>
							<td>{{ val['grains'].get('osrelease') }}</td>
							<td>{{ val['grains'].get('kernelrelease') }}</td>
                            <td>{{ val['grains'].get('pythonversion', [])|join('.') }}</td>
						</tr>
				{% endfor %}
				</tbody>
			</table>
		</div>
	</div>
{% endblock %}
